# 요구사항 명세서

## 1. 개요

**목적**: 익명 SNS 서비스의 기능·비기능 요구사항을 정의하여 설계·개발 가이드라인 제공<br/>
**범위**: 사용자 계정, 게시물 관리, 상호작용, 피드·탐색, 알림, 검색, 모더레이션, 확장성, 성능, 가용성, 보안, 개인정보 보호, 운영·모니터링, CI/CD<br/>

## 2. 기능 요구사항

| ID    | 요구사항           | 설명                                  | 우선순위 |
| ----- | -------------- | ----------------------------------- | ---- |
| FR-1  | 익명 프로필 생성      | 이메일·전화번호 없이 익명 ID로 가입 가능            | 필수   |
| FR-2  | 별명/닉네임 관리      | 닉네임 설정·변경, 중복 검사 및 차단어 필터링          | 필수   |
| FR-3  | 멀티미디어 업로드      | 텍스트, 이미지(JPEG/PNG), 동영상(MP4) 업로드 지원 | 필수   |
| FR-4  | 투표 기능          | 최대 5개 선택지 투표 생성, 실시간 집계             | 중요   |
| FR-5  | 해시태그·위치 태그     | 해시태그 자동 인식 및 위치 입력 기능               | 중요   |
| FR-6  | 좋아요 기능         | 게시물 좋아요, 중복 방지                      | 필수   |
| FR-7  | 댓글 기능          | 익명 댓글 작성·수정·삭제, 신고 기능               | 중요   |
| FR-8  | 공유(리그램)        | 게시물 재게시 및 출처 표시                     | 보통   |
| FR-9  | 팔로우/언팔로우       | 사용자 간 팔로우 관계 설정/해제                  | 필수   |
| FR-10 | 팔로우 기반 피드      | 팔로우 중인 사용자의 최신 게시물 제공               | 필수   |
| FR-11 | 탐색 탭(Discover) | 인기 콘텐츠, 추천 해시태그·사용자 노출              | 중요   |
| FR-12 | 실시간 피드 업데이트    | WebSocket/SSE 기반 실시간 피드 반영          | 중요   |
| FR-13 | 알림(푸시·인앱)      | 좋아요, 댓글, 팔로우 시 실시간 알림               | 중요   |
| FR-14 | 사용자/닉네임 검색     | 닉네임 자동완성 및 정렬(인기도·최신순)              | 중요   |
| FR-15 | 해시태그/키워드 검색    | 해시태그 기반 필터링 및 상세 옵션 제공              | 보통   |
| FR-16 | 익명 신고 기능       | 게시물·댓글 신고 및 상태 조회                   | 필수   |
| FR-17 | 자동 필터링         | NSFW 감지, 욕설·스팸 키워드 필터링              | 중요   |

## 3. 비기능 요구사항

| ID     | 분류           | 요구사항             | 설명                              |
| ------ | ------------ | ---------------- | ------------------------------- |
| NFR-1  | 확장성          | 수평적 확장           | 오토스케일링, DB 샤딩/파티셔닝 지원           |
| NFR-2  | 확장성          | 마이크로서비스          | 도메인별 독립 배포                      |
| NFR-3  | 성능           | 응답시간(P99 <100ms) | API 레이턴시 최적화                    |
| NFR-4  | 성능           | 콘텐츠 캐싱           | CDN, Redis를 활용한 캐싱              |
| NFR-5  | 가용성          | SLA 99.9%        | 멀티 리전 배포, 장애 조치                 |
| NFR-6  | 가용성          | 무중단 배포           | 블루/그린, 카나리 배포 전략                |
| NFR-7  | 내결함성         | 회로 차단기           | 외부 장애 시 서비스 보호                  |
| NFR-8  | 내결함성         | 자동 복구            | Kubernetes 프로브, 오토스케일링          |
| NFR-9  | 일관성·데이터 관리   | 최종 일관성           | 피드·알림 이벤트 시스템 최종 일관성            |
| NFR-10 | 일관성·데이터 관리   | 강한 일관성           | 계정·결제 트랜잭션 ACID 보장              |
| NFR-11 | 보안           | 암호화              | 전송(TLS) 및 저장(디스크) 암호화           |
| NFR-12 | 보안           | Rate Limiting    | API 호출 제한 및 DDoS 대응             |
| NFR-13 | 보안           | 인증/인가            | JWT 기반 토큰 인증                    |
| NFR-14 | 프라이버시·컴플라이언스 | 로그 익명화           | IP·기기 정보 해싱                     |
| NFR-15 | 프라이버시·컴플라이언스 | 데이터 보존 정책        | 게시물·로그 90일 후 자동 삭제              |
| NFR-16 | 운영 모니터링·로깅   | 로그 분석            | ELK/EFK 스택 활용                   |
| NFR-17 | 운영 모니터링·로깅   | 지표 수집·알림         | Prometheus/Grafana 기반 모니터링 및 알림 |
| NFR-18 | CI/CD        | 자동 테스트           | pytest, lint, 보안 스캔 자동 실행       |
| NFR-19 | CI/CD        | GitOps 배포        | Git 머지 시 자동 배포 트리거              |
